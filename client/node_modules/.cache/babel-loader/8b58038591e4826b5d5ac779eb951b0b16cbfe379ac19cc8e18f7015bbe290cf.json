{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 10000\n});\n\n// Request interceptor for logging\napi.interceptors.request.use(config => {\n  var _config$method;\n  console.log(`Making ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} request to: ${config.url}`);\n  return config;\n}, error => {\n  console.error('Request error:', error);\n  return Promise.reject(error);\n});\n\n// Response interceptor for error handling\napi.interceptors.response.use(response => {\n  return response.data;\n}, error => {\n  var _error$response;\n  console.error('API Error:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n  if (error.response) {\n    throw new Error(error.response.data.error || 'Server error occurred');\n  } else if (error.request) {\n    throw new Error('Network error: Unable to connect to server');\n  } else {\n    throw new Error('An unexpected error occurred');\n  }\n});\nexport const getBugs = async (filters = {}) => {\n  try {\n    const params = new URLSearchParams();\n    Object.entries(filters).forEach(([key, value]) => {\n      if (value) params.append(key, value);\n    });\n    return await api.get(`/bugs?${params.toString()}`);\n  } catch (error) {\n    console.error('Error fetching bugs:', error);\n    throw error;\n  }\n};\nexport const getBug = async id => {\n  try {\n    return await api.get(`/bugs/${id}`);\n  } catch (error) {\n    console.error(`Error fetching bug ${id}:`, error);\n    throw error;\n  }\n};\nexport const createBug = async bugData => {\n  try {\n    return await api.post('/bugs', bugData);\n  } catch (error) {\n    console.error('Error creating bug:', error);\n    throw error;\n  }\n};\nexport const updateBug = async (id, bugData) => {\n  try {\n    return await api.put(`/bugs/${id}`, bugData);\n  } catch (error) {\n    console.error(`Error updating bug ${id}:`, error);\n    throw error;\n  }\n};\nexport const deleteBug = async id => {\n  try {\n    return await api.delete(`/bugs/${id}`);\n  } catch (error) {\n    console.error(`Error deleting bug ${id}:`, error);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","timeout","interceptors","request","use","config","_config$method","console","log","method","toUpperCase","url","error","Promise","reject","response","data","_error$response","message","Error","getBugs","filters","params","URLSearchParams","Object","entries","forEach","key","value","append","get","toString","getBug","id","createBug","bugData","post","updateBug","put","deleteBug","delete"],"sources":["C:/Users/Joan/Desktop/mernstack/testing-and-debugging-ensuring-mern-app-reliability-keshiindungi/client/src/services/bugService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 10000,\r\n});\r\n\r\n// Request interceptor for logging\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    console.log(`Making ${config.method?.toUpperCase()} request to: ${config.url}`);\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('Request error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    return response.data;\r\n  },\r\n  (error) => {\r\n    console.error('API Error:', error.response?.data || error.message);\r\n    \r\n    if (error.response) {\r\n      throw new Error(error.response.data.error || 'Server error occurred');\r\n    } else if (error.request) {\r\n      throw new Error('Network error: Unable to connect to server');\r\n    } else {\r\n      throw new Error('An unexpected error occurred');\r\n    }\r\n  }\r\n);\r\n\r\nexport const getBugs = async (filters = {}) => {\r\n  try {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filters).forEach(([key, value]) => {\r\n      if (value) params.append(key, value);\r\n    });\r\n    \r\n    return await api.get(`/bugs?${params.toString()}`);\r\n  } catch (error) {\r\n    console.error('Error fetching bugs:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getBug = async (id) => {\r\n  try {\r\n    return await api.get(`/bugs/${id}`);\r\n  } catch (error) {\r\n    console.error(`Error fetching bug ${id}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const createBug = async (bugData) => {\r\n  try {\r\n    return await api.post('/bugs', bugData);\r\n  } catch (error) {\r\n    console.error('Error creating bug:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateBug = async (id, bugData) => {\r\n  try {\r\n    return await api.put(`/bugs/${id}`, bugData);\r\n  } catch (error) {\r\n    console.error(`Error updating bug ${id}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteBug = async (id) => {\r\n  try {\r\n    return await api.delete(`/bugs/${id}`);\r\n  } catch (error) {\r\n    console.error(`Error deleting bug ${id}:`, error);\r\n    throw error;\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}